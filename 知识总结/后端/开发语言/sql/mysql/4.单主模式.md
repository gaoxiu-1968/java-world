# 单主模式

本篇文章主要介绍单主模式组复制如何搭建。

> 单主模式，一个组内最少需要3台mysql server，最多是9台 mysql server。

本篇文章主要介绍3台mysql 组复制搭建。

## 基于docker

### 安装mysql

参考：https://hub.docker.com/_/mysql

```dockerfile
docker run --name mysql1 -v /home/zhangmingke1/my/mysql1:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=123456 -p 30601:3306 -d mysql:5.7
docker run --name mysql2 -v /home/zhangmingke1/my/mysql2:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=123456 -p 30602:3306 -d mysql:5.7
docker run --name mysql3 -v /home/zhangmingke1/my/mysql3:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=123456 -p 30603:3306 -d mysql:5.7
```

* 为每个容器安装vim

  后面修改mysql系统变量使用。

```
apt-get update
apt-get install vim
```

### 配置组复制

> 无法直接使用set global xxxxx=xxx配置，有些参数不满足，推荐直接修改配置文件





